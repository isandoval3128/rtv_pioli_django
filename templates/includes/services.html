<div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">Servicios</h2>
            <h3 class="section-subheading text-muted">Nuestros servicios profesionales</h3>
        </div>
        <div class="row text-center">
            {% for service in services %}
            <div class="col-md-4">
                <span class="fa-stack fa-4x" onmouseover="this.style.transform='translateY(-8px) scale(1.08)';this.style.transition='transform 0.2s cubic-bezier(.4,2,.3,1)';" onmouseout="this.style.transform='none';">
                    <i class="fas fa-circle fa-stack-2x" style="color: {{ site_config.service_icon_bgcolor }};"></i>
                    <i class="fas {{ service.icon }} fa-stack-1x" style="color: {{ site_config.service_icon_fgcolor }};"></i>
                </span>
                <h4 class="my-3">{{ service.title }}</h4>
                <div class="service-desc-card shadow-sm border-0 mb-4 animate__animated animate__fadeIn" style="background: #f8f9fa; border-radius: 1rem; transition: box-shadow 0.2s;">
                    <div class="card-body p-3">
                        <p class="service-desc-text" style="font-size:1.08rem; color:#003466; text-align:justify; margin-bottom:0;">
                            {{ service.description|linebreaksbr }}
                        </p>
                    </div>
                </div>
                {% if service.attachment_html %}
                    <button type="button" class="btn btn-sm mt-2 mb-2" data-bs-toggle="modal" data-bs-target="#attachmentModal{{ service.id }}" style="background-color: #003466; color: #fff; border: none; box-shadow: 0 2px 8px rgba(2,25,122,0.08); transition: background-color 0.2s, box-shadow 0.2s;"
                        onmouseover="this.style.boxShadow='0 8px 24px rgba(2,25,122,0.18)';" onmouseout="this.style.boxShadow='0 2px 8px rgba(2,25,122,0.08)';">
                        Ver adjunto de {{ service.title }}
                    </button>
                    <!-- Modal para archivo adjunto -->
                    <div class="modal fade" id="attachmentModal{{ service.id }}" tabindex="-1" aria-labelledby="attachmentModalLabel{{ service.id }}" aria-hidden="true">
                        <div class="modal-dialog modal-lg modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="attachmentModalLabel{{ service.id }}">Archivo adjunto - {{ service.title }}</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="attachment-preview">
                                        {{ service.attachment_html|safe }}
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
            {% empty %}
                <p class="text-center text-muted">No hay servicios disponibles.</p>
            {% endfor %}
        </div>
</div>